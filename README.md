# TopArticles for Laravel 5
- A Laravel 5 package used to list your top articles by date.
- Uses Google Analytics API.

## First of all
#### 1.
- Go to: https://console.developers.google.com/apis/credentials
- Create credentials
- Service account key
- New service account
- Put the name, select JSON and Create!

#### 2.
- Open the downloaded file.
- Copy the e-mail at "client_email".
- Go to: https://analytics.google.com
- Admin
- Select your account and go to User Management
- Paste the e-mail on the input and Add!
- Now copy the JSON file to your project.

## Instalation

```shell
composer require "ruwer/toparticles":"dev-master"
```

Add to your **config/app.php**:
```php
'providers' => [
    //...
    Ruwer\TopArticles\TopArticlesServiceProvider::class,
],
```

and:

```php
'aliases' => [
    //...
    'TopArticles' => Ruwer\TopArticles\TopArticlesFacade::class,
],
```

In your terminal:

```shell
php artisan vendor:publish --provider="Ruwer\TopArticles\TopArticlesServiceProvider"
```

```shell
composer dump-autoload
```

Now open the file: **config/analytics.php** and configure the path of your JSON file generated by Google Analytics.

## How to use

In your controller:

```php
use TopArticles;

TopArticles::get(
    "ga:xxxxxxxx", //Your Google Analytics Profile ID
    "7daysAgo", //Begin Date
    "today", //End date (you can also use Y-m-d)
    "(articles/)", //Regex for Filters (everything containing "articles/")
    10 //Results
);
```
